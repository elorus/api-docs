<!DOCTYPE html>
<html lang="en">
<head>
    <title>Elorus API Documentation</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="Practical examples and cases, using Elorus' API"/>
    <link rel="canonical" href="https://developer.elorus.com/">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/el/examples.css">
    <link rel="stylesheet" href="/css/generic.css">
</head>
<body>
<div id="top-menu">
    <span class="region">Select region</span>
    <select class="version-btn" name="forma" onchange="location = this.value;">
        <option value="/">International</option>
        <option selected>Greece</option>
    </select>
    <a href="/el/">API v1.1</a>
    <a href="/el/mydata/">myDATA classifications</a>
    <a href="/el/examples/" class="active">Examples</a>
</div>
<br>
<div class="container top">
    <div class="row">
        <div class="col-md-3" id="my-menu"></div>
        <div class="col-md-6 central-col">
            <div class="container" style="width: 100%;">
                <u><b>Make sure myDATA and Softone integrations are activated in your Elorus account
                    before using the guide bellow.</b></u>
                <br>
                The guide thinks you are a new Elorus user, so some steps can be omitted eg
                "Create Contact" etc.
                <br>
                <h2>Authorization variables:</h2>
                <ul>
                    <li><b>Token:</b> API key. Find it in Elorus UI "User Profile". One API key per
                        Elorus account
                    </li>
                    <li><img src="/img/examples/common/profile.png"></li>
                    <li><b>X-Elorus-Organization:</b> Organization ID. Find it in Elorus UI "Settings ->
                        Organization ->
                        Organization ID". One Organization ID per Organization.
                    </li>
                </ul>

                <!---->
                <br>
                <!--         INSERT ARTICLE BELLOW THIS LINE           -->
                <div id="credit-invoice-1">
                    <h2>Create a "Credit Invoice" - Associated</h2>
                    <div id="credit-invoice-1.1">
                        <h3>1.1 Create a new contact</h3>
                        First lets create a contact so there is someone to bill.
                    </div>
                    <div class="right-column">
                        Request
                        <div class="curl-block">
                            <code>
                                $ curl -X POST -H "Content-Type: application/json" -H "Authorization: Token
                                ~Your-API-key~" -H "X-Elorus-Organization:
                                ~Your-Organization-ID~" https://api.elorus.com/v1.1/contacts/ -d '{"client_type":
                                "1",
                                "company":"Elorus SA", "vat_number":"9876543210",
                                "addresses":[{"address":"Theofilopoulou 13", "city":"Athens", "zip":"11743",
                                "country": "GR", "ad_type": "bill"}], "is_client": true, "is_supplier":false}
                            </code>
                        </div>
                    </div>
                </div>
                <!---->
                <br>
                <div id="credit-invoice-1.2">
                    <h3>1.2 Get contact ID</h3>
                    Filter e.g. by "company", to get the contact ID.
                    Retrieved contact ID in this case is "2482665622824027155".
                </div>
                <div class="right-column">
                    Request
                    <div class="curl-block">
                        <code>
                            $ curl -X GET -H "Content-Type: application/json" -H "Authorization: Token
                            ~Your-API-key~" -H "X-Elorus-Organization:
                            ~Your-Organization-ID~" https://api.elorus.com/v1.1/contacts/?company="Elorus SA"
                        </code>
                    </div>
                </div>
                <!---->
                <br>
                <div id="credit-invoice-2.1">
                    <h3>2.1 Get document type ID</h3>
                    In this case, a "Credit Invoice" document type will be needed. There is a "Credit Invoice"
                    document type pre-created.
                    Default title is "Πιστωτικό Τιμολόγιο". <br>Search by "title", to get the document
                    type ID. Retrieved document type ID in this case is "2483498441813001641".
                    In case the title is changed or the document type is missing, use the Elorus UI to create a
                    new one.
                </div>
                <div class="right-column">
                    Request
                    <div class="curl-block">
                        <code>
                            $ curl -X GET -H "Content-Type: application/json" -H "Authorization: Token
                            ~Your-API-key~" -H "X-Elorus-Organization:
                            ~Your-Organization-ID~" https://api.elorus.com/v1.1/documenttypes/?search="Πιστωτικό
                            Τιμολόγιο"
                        </code>
                    </div>
                </div>
                <!---->
                <br>
                <div id="credit-invoice-3.1">
                    <h3>3.1 About taxes</h3>
                    By default there are some taxes preset in Elorus. Usually 24% tax is used for
                    Greece "Credit Invoice" so the preset tax will be retrieved and used. In case
                    there is a need for a new tax to be created, use of Elorus' UI is mandatory. <br>Optional
                    steps to create new tax:
                    <ol>
                        <li>Login to your Elorus account</li>
                        <li>Go to: "Settings -> Taxes"</li>
                        <li>Click "+Add" on top right corner</li>
                        <li><img src="/img/examples/common/add.png"></li>
                        <li>And set it up as the picture bellow.
                        </li>
                        <li><img src="/img/examples/common/tax.png"></li>
                        <li>Click "Save"</li>
                        <li><img src="/img/examples/common/save.png"></li>
                    </ol>
                </div>
                <!---->
                <br>
                <div id="credit-invoice-3.2">
                    <h3>3.2 Get taxes ID</h3>
                    Search by "percentage", to get the tax ID. Retrieved tax ID in
                    this case is "2476911428611605999". Make sure that "aade_type":1 is in the response packet.
                </div>
                <div class="right-column">
                    Request
                    <div class="curl-block">
                        <code>
                            $ curl -X GET -H "Content-Type: application/json" -H "Authorization: Token
                            ~Your-API-key~" -H "X-Elorus-Organization:
                            ~Your-Organization-ID~"
                            https://api.elorus.com/v1.1/taxes/?search="24"&search_fields=percentage
                        </code>
                    </div>
                </div>
                <!---->
                <br>
                <div id="credit-invoice-4.1">
                    <h3>4.1 Create a Credit Invoice</h3>
                    <ol>
                        <li>X-Elorus-Organization: your organization ID</li>
                        <li>calculator_mode: sets your values as "initial" or "total", meaning
                            before or after
                            taxes.
                            <ol>
                                <li>When "total" is used, then it is mandatory to use "unit_total"
                                    in items.
                                </li>
                                <li>When "initial" is used, then it is mandatory to use "unit_value"
                                    in items.
                                </li>
                                <li>Depending on the situation, Elorus will calculate the taxes
                                    accordingly.
                                </li>
                            </ol>
                        </li>
                        <li>client: Client id - In this case we created "Elorus SA"
                            contact.
                        </li>
                        <li>draft: true or false depending on the need to issue immediately an
                            invoice or not. If
                            true, the
                            credit invoice will not reach MyData/Softone, until issued.
                        </li>
                        <li>documenttype: Document Type ID - In this case we used "Πιστωτικό Τιμολόγιο"
                            document type, associated with the corresponding "aade type".
                        </li>
                        <li>related_documents: Associated invoice ID(s) list - Invoice(s) must be issued! If
                            omitted then mydata_document_type: "5.2" Credit Invoice / Non-Associated should be
                            used.
                        </li>
                        <li>My data specific fields:
                            mydata_document_type - mydata_classification_category - mydata_classification_type -
                            paid_on_receipt - payment_method
                            <ol>
                                <li>mydata_document_type: aade type</li>
                                <li>mydata_classification_category: income type aade</li>
                                <li>mydata_classification_type: classifications of Ε3 aade</li>
                                <li>paid_on_receipt: Invoice amount that was paid when invoice was
                                    issued. If "0"
                                    then you don't
                                    need to send payment_method since Elorus will automatically
                                    apply payment_method
                                    as on
                                    credit.
                                </li>
                                <li>payment_method:
                                    <ol>
                                        <li>“1”: Domestic Payments Account</li>
                                        <li>“2”: Foreign Payments Account</li>
                                        <li>“3”: Cash</li>
                                        <li>“4”: Cheque</li>
                                        <li>“6”: Web Banking</li>
                                        <li>“7”: POS / e-POS</li>
                                    </ol>
                                </li>
                            </ol>
                        </li>
                    </ol>
                </div>
                <div class="right-column">
                    Request
                    <div class="curl-block">
                        <code>
                            $ curl -X POST -H "Content-Type: application/json" -H "Authorization: Token
                            ~Your-API-key~" -H "X-Elorus-Organization:
                            ~Your-Organization-ID~" https://api.elorus.com/v1.1/creditnotes/ -d
                            '{"calculator_mode": "total", "currency_code": "EUR", "exchange_rate": "1.000000",
                            "client": "2482665622824027155", "date": "2022-5-20", "draft": true, "documenttype":
                            "2483498441813001641", "mydata_document_type": "5.1", "items": [{"title": "Διάφορες
                            υπηρεσίες", "unit_total": "12.4", "quantity": "1", "taxes": ["2476911428611605999"],
                            "mydata_classification_category": "category1_3", "mydata_classification_type":
                            "E3_561_001"}], "paid_on_receipt": "12.4", "payment_method": "3",
                            "related_documents": ["2483541804331304045"]}'
                        </code>
                    </div>
                </div>
                <!--         INSERT ARTICLE ABOVE THIS LINE           -->

            </div>
        </div>
    </div>
    <br>
    <div class="row dark-page-break"></div>
</div>

<button onclick="topFunction()" id="myBtn" title="Go to top"><img src="/img/menus/up-arrow.svg"></button>
<script>
    window.onload = function () {
        addMenuHTML("credit_invoice");
    };
</script>

<script type="text/javascript" src="/js/redoc.standalone.js"></script>
<script type="text/javascript" src="/js/support.js"></script>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/examples.js"></script>
<script type="text/javascript" src="/js/examples-menu.js"></script>

</body>
</html>
