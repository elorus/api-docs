<!DOCTYPE html>
<html lang="en">
<head>
    <title>Elorus API Documentation</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
          content="Practical examples and cases, using Elorus' API"/>
    <link rel="canonical" href="https://developer.elorus.com/">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/el/examples.css">
    <link rel="stylesheet" href="/css/generic.css">
</head>
<body>
<div id="top-menu">
    <span class="region">Select region</span>
    <select class="version-btn" name="forma" onchange="location = this.value;">
        <option value="/">International</option>
        <option selected>Greece</option>
    </select>
    <a href="/el/">API v1.1</a>
    <a href="/el/mydata/">myDATA classifications</a>
    <a href="/el/examples/" class="active">myDATA examples</a>
</div>
<div class="row main-page">
    <div class="col-xs-12 col-sm-4 col-md-3">
        <div id="list"></div>
    </div>
    <div class="col-xs-12 col-sm-8 col-md-6" id="example">
        <h1>Create a "Proof of Expenditure" / non-liable Issuer</h1>
        <p>When buying services or goods, if a self billed document is needed, you are required to issue a
            "Proof of Expenditure Bill".</p>
        <p><u>This guide demonstrates how to create a "Proof of Expenditure" / non-liable Issuer bill, for individual
            suppliers in Greece </strong> (myDATA document type <strong>"3.1 Proof of Expenditure Bill"</strong>)</u>
        </p>
        <div class="warningBox">
            Make sure the integration with myDATA or SoftOne is activated in your Elorus account
            before using the guide below. If not, feel free to contact the <a href="mailto:support@elorus.com">Elorus
            support team</a> for more information regarding the activation of the integration.
        </div>
        <br>
        <h2>Authorization variables</h2>
        <ul>
            <li><b>Token:</b> API key.<br/>
                To find your API key open the Elorus web application and navigate to the "User Profile".
                The API key is personal and there's only one key per user.
                <img src="/img/examples/common/profile.png">
            </li>
            <li><b>X-Elorus-Organization:</b> Organization ID.<br/>
                The organization whose data you wish to access. To find the Organization ID
                visit the Elorus web application and navigate to "Settings > Organization > Organization ID".
                Each organization has an ID of its own.
            </li>
        </ul>
        <!---->
        <br>
        <!--         INSERT ARTICLE BELOW THIS LINE           -->
        <h2>Client</h2>
        <h3 id="proof-of-expenditure-1.1">1.1 Create a new contact</h3>
        <i> - The guide assumes you're working on a new Elorus organization,
            so this step can be omitted.</i><br><br>
        First lets create a supplier so there is someone to get billed from. In a business context, contacts are
        individuals or businesses whom you transact with; typically your clients, leads, suppliers and partners. Since
        Elorus will let you manage your sales as well as your expenses, a contact may represent either a client
        or a supplier (or even both).
        <br><br>
        <div class="curl-title">
            Request
            <div class="curl-block">
                <code>
                    curl -X POST -H "Content-Type: application/json" -H "Authorization:
                    Token
                    ~Your-API-key~" -H "X-Elorus-Organization: ~Your-Organization-ID~"
                    https://api.elorus.com/v1.1/contacts/ -d '{"client_type": "1", "company":"Προμηθευτής",
                    "vat_number":"9876543210", "addresses":[{"address":"Theofilopoulou 13", "city":"Athens",
                    "zip":"11743", "country": "GR", "ad_type": "bill"}], "is_client": false, "is_supplier":true}'
                </code>
            </div>
        </div>
        <!---->
        <br>
        <h3 id="proof-of-expenditure-1.2">1.2 Get contact ID</h3>
        Filter e.g. by "company", to get the contact ID. Retrieved contact ID in this case is "2608266726156011067".
        <br><br>
        <div class="curl-title">
            Request
            <div class="curl-block">
                <code>
                    curl -X GET -H "Content-Type: application/json" -H "Authorization:
                    Token
                    ~Your-API-key~" -H "X-Elorus-Organization: ~Your-Organization-ID~"
                    https://api.elorus.com/v1.1/contacts/?company="Προμηθευτής"
                </code>
            </div>
        </div>
        <!---->
        <br>
        <h2>Document type</h2>
        <h3 id="proof-of-expenditure-2.1">2.1 Create a "Proof of Expenditure" document type</h3>
        In this case, a "Proof of Expenditure" document type will be needed. There is no
        "Proof of Expenditure" document type pre-created and API does not support document type creation. So in
        order to create it, use of Elorus' UI is mandatory.
        <ol>
            <li>Login to your Elorus account</li>
            <li>Go to: "Settings -> Document Types"</li>
            <li>Click "+Add" on top right corner</li>
            <li>And set it up as the picture below. Title used is for example purposes,
                the field can take any name.
                <img src="/img/examples/proof-of-expenditure.png"></li>
            <li>Click "Save"</li>
        </ol>
        <!---->
        <br>
        <h3 id="proof-of-expenditure-2.2">2.2 Get document type ID</h3>
        Search by "title", to get the document type ID.
        Retrieved document type ID in this case is "2569066492662384486".
        <br><br>
        <div class="curl-title">
            Request
            <div class="curl-block">
                <code>
                    curl -X GET -H "Content-Type: application/json" -H "Authorization:
                    Token
                    ~Your-API-key~" -H "X-Elorus-Organization: ~Your-Organization-ID~"
                    https://api.elorus.com/v1.1/documenttypes/?search="Τίτλος Κτήσης"&search_fields=title
                </code>
            </div>
        </div>
        <!---->
        <br>
        <h2>Taxes</h2>
        This document is not subject to VAT.
        <!---->
        <br>
        <h2>Bill creation</h2>
        <h3 id="proof-of-expenditure-3.1">3.1 Create Proof of Expenditure</h3>
        The final step, is to create the Bill itself. The list below describes all the needed fields.
        <ol>
            <li>X-Elorus-Organization: your organization ID</li>
            <li>calculator_mode: sets your values as "initial" or "total", meaning
                before or after
                taxes.
                <ol>
                    <li>When "total" is used, then it is mandatory to use "unit_total"
                        in items.
                    </li>
                    <li>When "initial" is used, then it is mandatory to use "unit_value"
                        in items.
                    </li>
                    <li>Depending on the situation, Elorus will calculate the taxes
                        accordingly.
                    </li>
                </ol>
            </li>
            <li>expense_category: ID of the associated expense category.</li>
            <li>supplier: Supplier id - In this case we created a "Προμηθευτής" contact.
            </li>
            <li>draft: true or false depending on the need to issue immediately an
                invoice or not. If true, the bill will not reach MyData/Softone, until issued.
            </li>
            <li>documenttype: Document Type ID - In this case we created a "Τίτλος Κτήσης" document type, associated
                with the corresponding "aade type".
            </li>
            <li>My data specific fields:
                mydata_document_type - mydata_classification_category - mydata_classification_type -
                paid_on_receipt - payment_method
                <ol>
                    <li>mydata_document_type: aade type</li>
                    <li>mydata_classification_category: income type aade</li>
                    <li>mydata_classification_type: classifications of Ε3 aade</li>
                    <li>paid_on_receipt: Bill amount that was paid when bill was issued. If "0" then you don't need to
                        send payment_method since Elorus will automatically apply payment_method as on credit.
                    </li>
                    <li>payment_method:
                        <ol>
                            <li>“1”: Domestic Payments Account</li>
                            <li>“2”: Foreign Payments Account</li>
                            <li>“3”: Cash</li>
                            <li>“4”: Cheque</li>
                            <li>“6”: Web Banking</li>
                            <li>“7”: POS / e-POS</li>
                        </ol>
                    </li>
                </ol>
            </li>
        </ol>
        <div class="curl-title">
            Request
            <div class="curl-block">
                <code>
                    curl -X POST -H "Content-Type: application/json" -H "Authorization:
                    Token ~Your-API-key~" -H "X-Elorus-Organization: ~Your-Organization-ID~"
                    "https://api.elorus.com/v1.1/bills/" -d '{"self_billed":"true", "draft": "true", "calculator_mode":
                    "total", "documenttype":"2569066492662384486", "mydata_document_type": "3.1",
                    "supplier":"2608266726156011067", "items": [{"expense_category": "2491779621532468668", "title":
                    "Αναβάθμιση λογισμικού", "unit_total": "12.4", "quantity": "2", "mydata_classification_category":
                    "category2_1", "mydata_classification_type": "E3_102_002"}], "paid_on_receipt": "12.4",
                    "payment_method": "3"}'

                </code>
            </div>
        </div>
        <!--         INSERT ARTICLE ABOVE THIS LINE           -->
    </div>
    <div class="col-md-3">
        <div id="steps"></div>
    </div>
</div>
<br>
<button onclick="topFunction()" id="myBtn" title="Go to top"><img src="/img/menus/up-arrow.svg" style="box-shadow:none">
</button>
<script>
    window.onload = function () {
        addMenuHTML("proof_of_expenditure");
    };
</script>
<script type="text/javascript" src="/js/redoc.standalone.js"></script>
<script type="text/javascript" src="/js/support.js"></script>
<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/examples.js"></script>
<script type="text/javascript" src="/js/examples-menu.js"></script>
</body>
</html>